{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoopLab Community Site - {% block title %}{% endblock title %}</title>
    
    <!-- Load Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configure Tailwind to use LoopLab's required colors and font -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'loop-indigo': '#4B0082', /* Primary Indigo */
                        'loop-dark-violet': '#2E0854', /* Secondary Dark Violet */
                        'loop-accent': '#8A2BE2', /* Bright accent for buttons/hover */
                        'loop-bg-light': '#F8F9FA', /* Off-white background */
                    },
                    boxShadow: {
                        '3xl': '0 35px 60px -15px rgba(0, 0, 0, 0.3)',
                        'xl-dark': '0 20px 25px -5px rgba(46, 8, 84, 0.1), 0 10px 10px -5px rgba(46, 8, 84, 0.04)',
                    },
                    fontFamily: {
                        sans: ['Inter', 'ui-sans-serif', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'Noto Sans', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    {% block extra_head %}{% endblock extra_head %}
</head>
<body class="min-h-screen flex flex-col font-sans bg-loop-bg-light text-gray-800 antialiased">

    <!-- Load HTMX for Hypermedia-Driven Interactivity -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>

    <!-- Sticky Header with a strong drop shadow -->
    <header class="sticky top-0 z-20 shadow-xl-dark">
        <nav class="bg-loop-dark-violet text-white p-4">
            <div class="max-w-7xl mx-auto flex flex-wrap justify-between items-center px-4">
                
                <!-- Logo: Bold and tracks wider -->
                <a href="{% url 'pages:home' %}" class="text-3xl font-extrabold tracking-widest hover:text-loop-accent transition duration-300">LOOPLAB</a>
                
                <!-- Nav Links: Professional and responsive -->
                <div class="flex flex-col md:flex-row md:space-x-8 mt-2 md:mt-0 space-y-2 md:space-y-0 text-base font-medium">
                    
                    <!-- Macro to check if path starts with the link's target -->
                    {% with current_path=request.path %}
                    
                    <!-- Home Link -->
                    <a href="{% url 'pages:home' %}" class="py-1 md:py-0 transition duration-300 
                        {% if current_path == '/' %}
                            text-loop-accent font-bold border-b-2 border-loop-accent 
                        {% else %}
                            text-gray-200 hover:text-loop-accent hover:font-bold
                        {% endif %}">
                        Home
                    </a>
                    
                    <!-- Events Link -->
                    <a href="{% url 'events:event_list'%}" class="py-1 md:py-0 transition duration-300 
                        {% if current_path|slice:":7" == '/events' %}
                            text-loop-accent font-bold border-b-2 border-loop-accent 
                        {% else %}
                            text-gray-200 hover:text-loop-accent hover:font-bold
                        {% endif %}">
                        Events
                    </a>
                    
                    <!-- Projects Link -->
                    <a href="{% url 'projects:project_list' %}" class="py-1 md:py-0 transition duration-300 
                        {% if current_path|slice:":9" == '/projects' %}
                            text-loop-accent font-bold border-b-2 border-loop-accent 
                        {% else %}
                            text-gray-200 hover:text-loop-accent hover:font-bold
                        {% endif %}">
                        Projects
                    </a>
                    
                    <!-- Contributors Link -->
                    <a href="{% url 'members:contributor_list' %}" class="py-1 md:py-0 transition duration-300 
                        {% if current_path|slice:":13" == '/contributors' %}
                            text-loop-accent font-bold border-b-2 border-loop-accent 
                        {% else %}
                            text-gray-200 hover:text-loop-accent hover:font-bold
                        {% endif %}">
                        Contributors
                    </a>

                    <!-- Contact Link -->
                    <a href="{% url 'contact:contact_view' %}" class="py-1 md:py-0 transition duration-300 
                        {% if current_path|slice:":8" == '/contact' %}
                            text-loop-accent font-bold border-b-2 border-loop-accent 
                        {% else %}
                            text-gray-200 hover:text-loop-accent hover:font-bold
                        {% endif %}">
                        Contact
                    </a>
                    
                    {% endwith %}

                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content Area: Centered, large padding -->
    <main class="flex-grow max-w-7xl mx-auto w-full p-4 md:p-8">
        <div class="container mx-auto">
            {% block content %}
            {% endblock content %}
        </div>
    </main>

    <!-- Footer: Simple, elegant, and professional -->
    <footer class="bg-loop-dark-violet text-white text-center p-4 text-sm mt-auto shadow-inner">
        <p>&copy; 2025 LoopLab Community Tech Task. Crafted with **Django & HTMX**.</p>
    </footer>
</body>
</html>